{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ahmed\\\\OneDrive\\\\Desktop\\\\resume-rater\\\\FrontEnd\\\\src\\\\contexts\\\\ResumeContext.jsx\",\n    _s = $RefreshSig$();\n\n//import { Component } from 'react';\nimport axios from 'axios';\nimport React, { useCallback, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ResumeContext = /*#__PURE__*/React.createContext({\n  result: null,\n  loading: false,\n  formData: null,\n  requestResults: () => {},\n  pushHistory: () => {}\n});\nexport const ResumeProvider = ({\n  children\n}) => {\n  _s();\n\n  const [result, setResult] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [formData, setFormData] = useState(null);\n\n  const requestResults = value => {\n    setFormData(value);\n    return requestData();\n  };\n\n  const requestData = useCallback(async () => {\n    console.log(loading);\n    console.log(\"hhhhhhhh: \" + formData);\n\n    if (formData != null) {\n      await axios.post(\"http://127.0.0.1:8000/wel\", formData).then(res => {\n        setResult({\n          totalScore: res.data.totalScore,\n          educationScore: res.data.educationScore,\n          educationComments: res.data.educationComments,\n          experienceScore: res.data.experienceScore,\n          experienceComments: res.data.experienceComments,\n          formattingScore: res.data.formattingScore,\n          formattingComments: res.data.formattingComments,\n          name: res.data.name,\n          details: res.data.details\n        });\n      }).catch(err => {\n        if (formData == null) {\n          Promise.resolve();\n        } else {\n          console.log(\"got caught in an error\");\n          setLoading(false);\n          console.log(err);\n        }\n      }).finally(() => setLoading(false));\n    } else {\n      Promise.resolve();\n    }\n  }, [formData]);\n  useEffect(() => {\n    if (formData != null) {\n      //console.log(formData.get(\"myFile\").name);\n      //console.log(formData);\n      //history.push('/results');\n      setLoading(true); //requestData();\n      //setFormData(null);\n    }\n  }, [formData]);\n  useEffect(() => {\n    if (loading === true && formData != null) {\n      console.log(\"loading now: \" + loading);\n      requestData();\n    }\n  }, [loading]);\n  const context = {\n    result,\n    loading,\n    formData,\n    requestResults\n  };\n  return /*#__PURE__*/_jsxDEV(ResumeContext.Provider, {\n    value: context,\n    children: typeof children === 'function' ? children(context) : children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ResumeProvider, \"5++ND+yBpun3bf//Oywn+wvlWiE=\");\n\n_c = ResumeProvider;\nexport default ResumeContext;\n/*class ResumeProvider extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedFile: null,\r\n      totalScore: null,\r\n      educationScore: null,\r\n      educationComments: null,\r\n      experienceScore: null,\r\n      experienceComments: null,\r\n      formattingScore: null,\r\n      formattingComments: null,\r\n      name: null,\r\n      detail: null\r\n    };\r\n    this.requestResults =this.requestResults.bind(this);\r\n  }\r\n\r\n\r\n\r\nrequestResults = () => {\r\n  return new Promise((resolve, reject) => {\r\n\r\n  };\r\n};\r\n\r\nrender() {\r\n        return (\r\n            <ResumeContext.Provider value={\r\n            {   state: this.state,\r\n                setMessage: (value) => this.setState({\r\n                            message: value })}}>\r\n            {this.props.children}\r\n            </ResumeContext.Provider>)\r\n    }\r\n}*/\n\nvar _c;\n\n$RefreshReg$(_c, \"ResumeProvider\");","map":{"version":3,"sources":["C:/Users/ahmed/OneDrive/Desktop/resume-rater/FrontEnd/src/contexts/ResumeContext.jsx"],"names":["axios","React","useCallback","useState","useEffect","useHistory","ResumeContext","createContext","result","loading","formData","requestResults","pushHistory","ResumeProvider","children","setResult","setLoading","setFormData","value","requestData","console","log","post","then","res","totalScore","data","educationScore","educationComments","experienceScore","experienceComments","formattingScore","formattingComments","name","details","catch","err","Promise","resolve","finally","context"],"mappings":"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","sourcesContent":["//import { Component } from 'react';\r\nimport axios from 'axios';\r\nimport React, { useCallback, useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\n\r\nexport const ResumeContext = React.createContext({\r\n  result: null,\r\n  loading: false,\r\n  formData: null,\r\n  requestResults: () => {},\r\n  pushHistory: () => {},\r\n});\r\n\r\n  export const ResumeProvider = ({ children }) => {\r\n  const [result, setResult] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState(null);\r\n\r\n  const requestResults = (value) => {\r\n    setFormData(value);\r\n    return requestData();\r\n  }\r\n\r\n  const requestData = useCallback(async () => {\r\n    console.log(loading);\r\n\r\n    console.log(\"hhhhhhhh: \" + formData);\r\n\r\n    if(formData != null){\r\n\r\n    await axios.post(\"http://127.0.0.1:8000/wel\", formData)\r\n     .then(res=> {\r\n       setResult({\r\n         totalScore: res.data.totalScore,\r\n         educationScore: res.data.educationScore,\r\n         educationComments: res.data.educationComments,\r\n         experienceScore: res.data.experienceScore,\r\n         experienceComments: res.data.experienceComments,\r\n         formattingScore: res.data.formattingScore,\r\n         formattingComments: res.data.formattingComments,\r\n         name: res.data.name,\r\n         details: res.data.details\r\n       });\r\n     })\r\n     .catch((err) => {\r\n       if(formData == null){\r\n         Promise.resolve();\r\n       }else{\r\n         console.log(\"got caught in an error\");\r\n         setLoading(false);\r\n         console.log(err);\r\n       }\r\n     })\r\n     .finally(() => setLoading(false));\r\n   } else{\r\n     Promise.resolve();\r\n   }\r\n\r\n  }, [formData]);\r\n\r\n\r\n  useEffect(() => {\r\n    if(formData != null){\r\n      //console.log(formData.get(\"myFile\").name);\r\n      //console.log(formData);\r\n      //history.push('/results');\r\n      setLoading(true);\r\n      //requestData();\r\n      //setFormData(null);\r\n    }\r\n}, [formData]);\r\n\r\nuseEffect(() => {\r\n  if(loading === true && formData != null){\r\n    console.log(\"loading now: \" + loading);\r\n    requestData();\r\n  }\r\n}, [loading]);\r\n\r\n  const context = {\r\n    result,\r\n    loading,\r\n    formData,\r\n    requestResults,\r\n  };\r\n\r\n  return (\r\n    <ResumeContext.Provider value={context}>\r\n      {typeof children === 'function' ? children(context) : children}\r\n    </ResumeContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ResumeContext;\r\n/*class ResumeProvider extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedFile: null,\r\n      totalScore: null,\r\n      educationScore: null,\r\n      educationComments: null,\r\n      experienceScore: null,\r\n      experienceComments: null,\r\n      formattingScore: null,\r\n      formattingComments: null,\r\n      name: null,\r\n      detail: null\r\n    };\r\n    this.requestResults =this.requestResults.bind(this);\r\n  }\r\n\r\n\r\n\r\nrequestResults = () => {\r\n  return new Promise((resolve, reject) => {\r\n\r\n  };\r\n};\r\n\r\nrender() {\r\n        return (\r\n            <ResumeContext.Provider value={\r\n            {   state: this.state,\r\n                setMessage: (value) => this.setState({\r\n                            message: value })}}>\r\n            {this.props.children}\r\n            </ResumeContext.Provider>)\r\n    }\r\n}*/\r\n"]},"metadata":{},"sourceType":"module"}